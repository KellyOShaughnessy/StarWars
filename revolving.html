<html>

<head>
  <!-- 	<link rel="stylesheet" href="main.css">
 -->
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <title> CS 3300 Project 2 </title>
  <style>
  svg {
    background-color: #000;
  }
  </style>
</head>

<body>
  <div id="svg" />
  <script>

  if (!String.prototype.format) {
	  String.prototype.format = function() {
	    var args = arguments;
	    return this.replace(/{(\d+)}/g, function(match, number) { 
	      return typeof args[number] != 'undefined'
	        ? args[number]
	        : match
	      ;
	    });
	  };
	}

  var height = 3000,
    width = 3000,
    padding = 50;

  var svg = d3.select("#svg").append("svg").attr("width", width).attr("height", height);

  var mid = {
    x: width / 2,
    y: height / 2
  }
  var t0 = Date.now();
  var planets = [{
    orbitSpeed: 1,
    orbit: 1000,
    radius: 100,
    delta: Date.now() - t0,
    hovering: false
  }];

  svg.selectAll(".planet").data(planets).enter()
  	.append("circle")
    .attr("class", "planet")
		.attr("cx", function(p) { return mid.x + p.orbit; })
		.attr("cy", mid.y)
		.attr("r", function(p) { return p.radius; })
		.attr("fill", "blue")
		.on("mouseover", function(p) {
			p.hovering = true;
		})
		.on("mouseout", function(p) {
			p.hovering = false;
		})

  d3.timer(function() {
    var circles = svg.select(".planet");
    circles.attr("transform", function(d) {
    	d.delta += !d.hovering ? d.orbitSpeed : 0;
      return "rotate({0},{1},{2})".format(d.delta, mid.x, mid.y);
    });
	});
  </script>
</body>

</html>
